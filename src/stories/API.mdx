import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="はじめに/API Reference" />

# API Reference

`Marquee`コンポーネントの全プロパティの詳細リファレンスです。

## Props

### behavior

スクロールの動作パターンを指定します。

- **型:** `'scroll' | 'slide' | 'alternate'`
- **デフォルト:** `'scroll'`

#### 各モードの説明

**scroll**

```tsx
<Marquee behavior="scroll">テキストが連続してスクロールします</Marquee>
```

- テキストが端に到達すると、反対側から再度表示されます
- 途切れることなく連続的にスクロールします
- 最も一般的なマーキーの動作です

**slide**

```tsx
<Marquee behavior="slide">テキストが完全に消えてから再表示されます</Marquee>
```

- テキストが完全に画面外に出てから、再度反対側から表示されます
- scrollとの違いは、一度完全に消えることです

**alternate**

```tsx
<Marquee behavior="alternate">端で反転して往復します</Marquee>
```

- テキストが端に到達すると反転して逆方向に移動します
- 往復運動を繰り返します

---

### direction

スクロールの方向を指定します。

- **型:** `'left' | 'right' | 'up' | 'down'`
- **デフォルト:** `'left'`

```tsx
{
  /* 左方向 */
}
<Marquee direction="left">← 左へ</Marquee>;

{
  /* 右方向 */
}
<Marquee direction="right">右へ →</Marquee>;

{
  /* 上方向 */
}
<Marquee direction="up">↑ 上へ</Marquee>;

{
  /* 下方向 */
}
<Marquee direction="down">↓ 下へ</Marquee>;
```

**注意:** `alternate`モードの場合、`direction`は初期の移動方向を表します。

---

### loop

スクロールを繰り返す回数を指定します。

- **型:** `number`
- **デフォルト:** `-1`（無限ループ）

```tsx
{
  /* 無限ループ（デフォルト） */
}
<Marquee loop={-1}>永遠にスクロール</Marquee>;

{
  /* 1回だけ */
}
<Marquee loop={1}>1回だけスクロール</Marquee>;

{
  /* 5回 */
}
<Marquee loop={5}>5回スクロール</Marquee>;
```

**動作の詳細:**

- `loop={-1}` の場合、スクロールは停止しません
- `loop={1}` の場合、1回スクロールして停止します
- `loop={n}` の場合、n回スクロールして停止します

---

### scrollAmount

1インターバルあたりの移動ピクセル数を指定します。

- **型:** `number`
- **デフォルト:** `6`
- **範囲:** `1` 以上

```tsx
{
  /* ゆっくり */
}
<Marquee scrollAmount={2}>ゆっくり移動</Marquee>;

{
  /* 標準 */
}
<Marquee scrollAmount={6}>標準速度</Marquee>;

{
  /* 高速 */
}
<Marquee scrollAmount={20}>高速移動</Marquee>;
```

**ヒント:** `scrollDelay`と組み合わせて速度を調整します。

---

### scrollDelay

スクロールのインターバル（ミリ秒）を指定します。

- **型:** `number`
- **デフォルト:** `85`
- **最小値:** `60`

```tsx
{
  /* 素早く更新（滑らか） */
}
<Marquee scrollDelay={60}>滑らかな動き</Marquee>;

{
  /* ゆっくり更新 */
}
<Marquee scrollDelay={200}>カクカクした動き</Marquee>;
```

**注意:** 60ms未満の値を指定しても、最小値の60msが適用されます。

**スピード調整の例:**

| scrollAmount | scrollDelay | 結果             |
| ------------ | ----------- | ---------------- |
| 2            | 200         | 超低速・カクカク |
| 6            | 85          | 標準速度         |
| 20           | 60          | 超高速・滑らか   |

---

### className

カスタムCSSクラス名を指定します。

- **型:** `string`
- **デフォルト:** `''`

```tsx
<Marquee className="my-custom-marquee">カスタムスタイル付き</Marquee>
```

```css
.my-custom-marquee {
  background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 15px;
}
```

---

### style

インラインスタイルを指定します。

- **型:** `React.CSSProperties`
- **デフォルト:** `{}`

```tsx
<Marquee
  style={{
    backgroundColor: '#4CAF50',
    color: 'white',
    padding: '20px',
    fontSize: '24px',
    fontWeight: 'bold',
    borderRadius: '8px',
  }}
>
  インラインスタイル
</Marquee>
```

---

### children

表示するコンテンツを指定します。

- **型:** `React.ReactNode`
- **必須:** はい

```tsx
{
  /* テキスト */
}
<Marquee>シンプルなテキスト</Marquee>;

{
  /* HTML要素 */
}
<Marquee>
  <div style={{ display: 'flex', gap: '20px' }}>
    <span>🎉</span>
    <strong>太字</strong>
    <button>ボタン</button>
  </div>
</Marquee>;

{
  /* 複雑な構造 */
}
<Marquee>
  <div>
    <h3>見出し</h3>
    <p>段落テキスト</p>
    <img src="..." alt="画像" />
  </div>
</Marquee>;
```

---

## 高度な使い方

### 二重のAlternate

2つの`Marquee`を入れ子にすることで、DVDスクリーンセーバーのような動きを実現できます：

```tsx
<Marquee behavior="alternate" direction="left">
  <Marquee behavior="alternate" direction="up">
    <img src="dvd-logo.png" alt="DVD" />
  </Marquee>
</Marquee>
```

### レスポンシブな速度調整

画面サイズに応じて速度を変更：

```tsx
const isMobile = window.innerWidth < 768;

<Marquee scrollAmount={isMobile ? 3 : 6} scrollDelay={isMobile ? 100 : 85}>
  レスポンシブ対応
</Marquee>;
```

### 条件付きスクロール

状態に応じてループを制御：

```tsx
const [shouldLoop, setShouldLoop] = useState(true);

<Marquee loop={shouldLoop ? -1 : 1}>動的なループ制御</Marquee>;
```

---

## TypeScript型定義

```typescript
interface MarqueeProps {
  behavior?: 'scroll' | 'slide' | 'alternate';
  direction?: 'left' | 'right' | 'up' | 'down';
  loop?: number;
  scrollAmount?: number;
  scrollDelay?: number;
  className?: string;
  style?: React.CSSProperties;
  children: React.ReactNode;
}
```
