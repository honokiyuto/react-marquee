import { Meta } from '@storybook/addon-docs/blocks';
import { RerenderChildren } from './RerenderChildren';

<Meta title="はじめに/<marquee>の興亡史" />

## かつて愛されたHTMLタグ `<marquee>` の興亡史、流れ去った栄光

### **1\. `<marquee>`タグとは**

`<marquee>`（マーキー）タグは、Webページ上でテキストや画像を電光掲示板のように自動でスクロールさせるためのHTML要素です。

その動作は、さまざまな属性を指定することで細かく制御することが可能です。

現在は、すべてのブラウザで非推奨とされています。

なお、2025年現在でいつ消えてもおかしくないと言われ続けていますが、全ブラウザフルサポートのまま何年も経過しています。

[marquee: マーキー要素 - HTML | MDN](https://developer.mozilla.org/ja/docs/Web/HTML/Reference/Elements/marquee)

#### **1.1. `<marquee>`タグの使い方の例**

以下の3つのbehaviorがあります。

##### （１）"scroll" behaviorの場合（default）

<marquee behavior="scroll" bgcolor="#f0f0f0" vspace="20" hspace="20">
  ★☆★☆ようこそMarqueeのscrollへ★☆★☆
</marquee>

```html
<!-- scrollはデフォルトのbehaviorです -->
<marquee behavior="scroll" bgcolor="#f0f0f0" vspace="20" hspace="20">
  ★☆★☆ようこそMarqueeのscrollへ★☆★☆
</marquee>
```

##### （２）"slide" behaviorの場合

<RerenderChildren>
<marquee behavior="slide" bgcolor="#f0f0f0" vspace="20" hspace="20">
  ★☆★☆ようこそMarqueeのslideへ★☆★☆
</marquee>
</RerenderChildren>

```html
<!-- slideは登場して端っこで止まると -->
<marquee behavior="slide" bgcolor="#f0f0f0" vspace="20" hspace="20">
  ★☆★☆ようこそMarqueeのslideへ★☆★☆
</marquee>
```

##### （３）"alternate" behaviorの場合

<marquee behavior="alternate" bgcolor="#f0f0f0" vspace="20" hspace="20">
  ★☆★☆ようこそMarqueeのalternateへ★☆★☆
</marquee>

```html
<!-- alternateは登場して端っこで衝突し、跳ね返って往復します -->
<marquee behavior="alternate" bgcolor="#f0f0f0" vspace="20" hspace="20">
  ★☆★☆ようこそMarqueeのalternateへ★☆★☆
</marquee>
```

###### "alternate" behaviorの応用

懐かしのDVDのスクリーンセーバーのような動きも作れます。

※先ほどやるとiOS Safariではうまく動作しないっぽいです。

<marquee
  behavior="alternate"
  direction="down"
  width="250"
  height="200"
  style={{ border: 'solid' }}
>
  <marquee behavior="alternate">
    <img
      src="https://cdn.iconscout.com/icon/free/png-512/free-dvd-icon-svg-download-png-282446.png?f=webp&w=50"
      alt="placeholder"
    />
  </marquee>
</marquee>

```html
<!-- marqueeタグのalternateを二重にする -->
<marquee
  behavior="alternate"
  direction="down"
  width="250"
  height="200"
  style="border:solid"
>
  <marquee behavior="alternate">
    <img
      src="https://cdn.iconscout.com/icon/free/png-512/free-dvd-icon-svg-download-png-282446.png?f=webp&w=50"
      alt="placeholder"
    />
  </marquee>
</marquee>
```

---

### **2\. `<marquee>`タグの歴史と物語**

#### **2.1. 誕生の背景：ブラウザ戦争の産物**

`<marquee>`タグは、**1995年に公開されたInternet Explorer 2.0で初めて実装された、Microsoft独自の機能**でした [(引用)](https://html-coding.co.jp/annex/dictionary/html/marquee/)。

1990年代、ブラウザは**Internet Explorer(IE)** と **Netscape Navigator(ネスケ)** の2者が競い合っていました。

両者はWeb標準の策定を待たずに独自のHTMLタグ（独自拡張機能）を次々と実装し、自社ブラウザの優位性を示そうと競い合っていました。

例えば、IEでは`<marquee>`タグが、ネスケでは`<blink>`タグ（要素を点滅させるタグ[(引用)](https://www.tohoho-web.com/html/blink.htm)）がそれぞれ実装されていました。

流石に今では`<blink>`タグはアクセシビリティ上の問題が大きすぎて全ブラウザで機能していないようですが、Googleで「blink html」で検索すると、検索結果がチカチカして楽しいです。

その後、ネスケはIEとの市場シェア争いに負け、2008年にサービスを終了しました。

確かにIEは勝ち残りましたが、ではなぜその中でも`<marquee>`タグは普及したのでしょうか？

<div style={{ display: 'flex', gap: '20px' }}>
  <img
    src="https://upload.wikimedia.org/wikipedia/it/thumb/6/64/Internet_Explorer_2_logo.svg/1600px-Internet_Explorer_2_logo.svg.png?20170720125823"
    alt="Internet Explorer 2 logo.svg"
    style={{ height: '100px' }}
  />

  <img
    src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/Netscape_icon.svg/500px-Netscape_icon.svg.png"
    alt="Netscape_icon.svg.png"
    style={{ height: '100px' }}
  />
</div>

[(画像引用1)](https://ja.wikipedia.org/wiki/Internet_Explorer_2)
[(画像引用2)](<https://ja.wikipedia.org/wiki/Netscape_Navigator_(%E3%83%8D%E3%83%83%E3%83%88%E3%82%B9%E3%82%B1%E3%83%BC%E3%83%97%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%BA)>)

#### **2.2. 日本における独自の普及と「ガラケー」文化**

`<marquee>`タグは、2000年代初頭の日本で特に爆発的に普及しました。その背景には、当時の技術的制約と独自の携帯電話文化がありました。

1. **狭い画面**: 全角10文字程度しか表示できないフィーチャーフォン（ガラケー）の画面では、長い文章を改行せずに表示させる実用的な手段でした。
2. **スタイリングの制約**: CSSやJavaScriptのサポートが不十分またはキャリアごとに異なっていたガラケーにおいて、動きをつけられる数少ない貴重な手法でした。
3. **「ホムペ」と「デコる」文化**: 中高生を中心に個人のホームページ（ホムペ）作成が流行し、サイトを目立たせるための「デコレーション」として`<marquee>`は最適でした。

以下の「ガラケー」時代のYahoo! JAPANの画面です。

狭い画面幅に収めるために「半角カナ」を利用しています。

また、縦スクロールもボタン連打で煩わしいので、できるだけ画面サイズ内で情報を収めようとしている印象があります。

<img
  src="https://image.itmedia.co.jp/promobile/articles/0911/09/l_os_teihen05.jpg"
  alt="ガラケー文化"
  style={{ width: '200px' }}
/>
[(画像引用)](https://www.itmedia.co.jp/promobile/articles/0911/09/news083.html)

#### **2.3. 非推奨への道：なぜ`<marquee>`は疎まれたのか**

手軽さから広く使われた一方で、`<marquee>`タグは多くの問題点を抱えており、結局W3Cにも採用されず、HTML5で正式に廃止される運命を辿りました。

##### **（１）技術的な問題**

- **関心の分離の原則への違反**: 見た目を制御する機能と、文書構造を定義すべきHTMLが混在しており、HTMLとCSSの役割を分離するというWeb開発の基本原則に反していました。

##### **（２）アクセシビリティの問題**

- **可読性の低下**: 動いているテキストは静止しているテキストより読みづらく、ユーザーに認知的負荷をかけます。
- **コントロール不能性**: ユーザーが動きを止めたり、速度を調整したりできず、Webサイトの閲覧における主導権を奪います。
- **注意散漫の原因**: 本来集中すべき主要なコンテンツからユーザーの注意を逸らします。
- **アクセシビリティ障壁**: スクリーンリーダーなどの支援技術が内容を正しく読み上げられない可能性があり、特定のユーザーを情報から排除する結果につながりました。

---

### **3\. `<marquee>`タグのその後と現在**

#### **3.1. CSSによる代替案の模索と挫折**

実は`<marquee>`の機能をCSSで代替しようという動きもかつて存在しました。

「CSS Marquee Module Level 3」として、`marquee-style`や`marquee-direction`といったプロパティが提案され、一時はW3Cの草案（Working Draft）にもなりました[(引用)](https://www.w3.org/TR/2008/CR-css3-marquee-20081205/)。

しかし、この提案は最終的に規格化されませんでした。その理由は以下の通りです。

- **ブラウザの実装が進まなかった**: 主要なブラウザたちが実装をあまり積極的に行いませんでした。
- **CSSで可能だった**: 正直この時期だとJavaScriptやCSSのanimationで実現可能であり、専用のプロパティは不要と判断されました。
- **アクセシビリティへの懸念**: 動きのあるコンテンツがもたらす可読性や制御不能といった問題が、新しい標準として採用する上での障壁となりました。

#### **3.2. 将来のサポート状況**

2025年現在、Chrome、Firefox、Safariなどの主要ブラウザは、後方互換性のために`<marquee>`タグの表示をサポートし続けています。

しかし、MDN Web Docsには「この機能はいつでも動作しなくなる可能性がある」と明記されており、将来的なサポートは保証されていません。

したがって、**新規での使用は絶対に避けるべきです**。

---

### **4\. まとめと教訓**

`<marquee>`タグの栄光と衰退から以下の教訓が得られます。

- **短期的な便利さ vs 長期的な持続可能性**: 手軽さや目新しさだけで技術を選ぶと、将来的に大きな代償を払うことになります。Web標準に準拠、関心の分離、など始めからしっかりとルールを守り、設計して丁寧に作ることが長く生きることにつながります。

- **すべてのユーザーへの配慮**: 動きのある要素が一部のユーザーに楽しさを提供する一方で、別のユーザーには大きな障壁となる可能性があることを忘れてはいけません。アクセシビリティは、後付けではなく最初から設計の中心に据えるべきです。

- **独自機能のリスク考慮**: ブラウザ戦争で生まれた独自機能は、一時的に競争優位性をもたらしても、エコシステム全体として良い結果にはなりませんでした。標準化された技術をまずは第1選択肢にし、独自機能はきちんとした理由を持って使用するべきです。

---

> _歴史は常にくり返すけど 人は過去には戻れない..._

_by ニコ・ロビン（麦わら海賊団 考古学者）_

---
